<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MSA Generator</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='css/style.css') }}">
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>MSA Document Generator</h1>
            <p>Generate professional Mutual Service Agreements tailored to your clients</p>
        </div>

        <!-- Flash Messages -->
        {% with messages = get_flashed_messages(with_categories=true) %}
            {% if messages %}
                {% for category, message in messages %}
                    <div class="alert alert-{{ category }}">
                        {{ message }}
                        <button type="button" class="close-alert" onclick="this.parentElement.style.display='none'">&times;</button>
                    </div>
                {% endfor %}
            {% endif %}
        {% endwith %}

        <form method="POST" action="/generate" class="msa-form">
            <!-- Client Information Section -->
            <div class="form-section">
                <h2><i class="icon">üë§</i> Client Information</h2>
                <div class="form-row">
                    <div class="form-group">
                        <label for="client_name">Company Name *</label>
                        <input type="text" id="client_name" name="client_name" required>
                    </div>
                    <div class="form-group">
                        <label for="client_email">Email Address *</label>
                        <input type="email" id="client_email" name="client_email" required>
                    </div>
                </div>
                <div class="form-row">
                    <div class="form-group full-width">
                        <label for="client_address">Address *</label>
                        <textarea id="client_address" name="client_address" rows="3" required placeholder="Street Address, City, State, ZIP"></textarea>
                    </div>
                </div>
                <div class="form-row">
                    <div class="form-group">
                        <label for="client_phone">Phone Number *</label>
                        <input type="tel" id="client_phone" name="client_phone" required>
                    </div>
                </div>
            </div>

            <!-- Preparer Information Section -->
            <div class="form-section">
                <h2><i class="icon">üìù</i> Preparer Information</h2>
                <div class="form-row">
                    <div class="form-group">
                        <label for="preparer_name">Name</label>
                        <input type="text" id="preparer_name" name="preparer_name" value="Kevin Fuller">
                    </div>
                    <div class="form-group">
                        <label for="preparer_email">Email</label>
                        <input type="email" id="preparer_email" name="preparer_email" value="k.fuller@avatarmsp.com">
                    </div>
                </div>
            </div>

            <!-- Services Section -->
            <div class="form-section">
                <h2><i class="icon">üõ°Ô∏è</i> Additional Services</h2>
                <div class="checkbox-group">
                    <label class="checkbox-label">
                        <input type="checkbox" name="compliance_services" value="1">
                        <span class="checkmark"></span>
                        <span class="service-title">Compliance Services</span>
                        <span class="service-description">Regulatory compliance monitoring and reporting</span>
                    </label>
                    <label class="checkbox-label">
                        <input type="checkbox" name="security_plus_services" value="1">
                        <span class="checkmark"></span>
                        <span class="service-title">Security Plus Services</span>
                        <span class="service-description">Advanced security monitoring and threat response</span>
                    </label>
                </div>
            </div>

            <!-- Pricing Section -->
            <div class="form-section">
                <h2><i class="icon">üí∞</i> Pricing Model</h2>
                <div class="pricing-selector">
                    <label class="radio-label">
                        <input type="radio" name="pricing_model" value="workstation" checked>
                        <span class="radio-button"></span>
                        <span class="pricing-title">Workstation-Based Pricing</span>
                        <span class="pricing-description">Price per managed workstation</span>
                    </label>
                    <label class="radio-label">
                        <input type="radio" name="pricing_model" value="user">
                        <span class="radio-button"></span>
                        <span class="pricing-title">User-Based Pricing</span>
                        <span class="pricing-description">Price per supported user</span>
                    </label>
                </div>

                <!-- Workstation Pricing -->
                <div id="workstation-pricing" class="pricing-details active">
                    <div class="form-row">
                        <div class="form-group">
                            <label for="workstation_count">Number of Workstations</label>
                            <input type="number" id="workstation_count" name="workstation_count" min="1" value="10">
                        </div>
                        <div class="form-group">
                            <label for="workstation_price">Price per Workstation ($)</label>
                            <input type="number" id="workstation_price" name="workstation_price" min="0" step="0.01" value="110.00">
                        </div>
                    </div>
                </div>

                <!-- User Pricing -->
                <div id="user-pricing" class="pricing-details">
                    <div class="form-row">
                        <div class="form-group">
                            <label for="user_count">Number of Users</label>
                            <input type="number" id="user_count" name="user_count" min="1" value="15">
                        </div>
                        <div class="form-group">
                            <label for="user_price">Price per User ($)</label>
                            <input type="number" id="user_price" name="user_price" min="0" step="0.01" value="15.00">
                        </div>
                    </div>
                </div>
            </div>

            <!-- Submit Button -->
            <div class="form-actions">
                <button type="submit" class="btn-primary">
                    <i class="icon">üìÑ</i>
                    Generate MSA Document
                </button>
            </div>
        </form>
    </div>

    <script src="{{ url_for('static', filename='js/form.js') }}"></script>
</body>
</html>
